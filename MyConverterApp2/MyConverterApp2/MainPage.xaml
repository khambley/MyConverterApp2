<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:maui="clr-namespace:epj.Expander.Maui;assembly=epj.Expander.Maui"
             xmlns:controls="clr-namespace:MyConverterApp2.Controls"
             xmlns:converters="clr-namespace:MyConverterApp2.Converters"
             xmlns:vm="clr-namespace:MyConverterApp2.ViewModels"
             x:DataType="vm:MainViewModel"
             x:Class="MyConverterApp2.MainPage">
    <ContentPage.Resources>
        <converters:CurrencySignConverter x:Key="currencySignConverter" />
    </ContentPage.Resources>

        <VerticalStackLayout x:Name="AccordionLayout" 
                             Spacing="2">
            <!-- Expander 1 -->
            <controls:ExpanderView x:Name="Currency"
                                   HeaderText="Currency"
                                   HeaderIcon="&#x24;"
                                   HeaderBackgroundColor="LightSeaGreen">

                   <controls:ExpanderView.ExpanderContent>
                    <ScrollView>
                        <VerticalStackLayout Spacing="5" Padding="5">
                            <!-- Result Display -->
                            <controls:ConverterResultView IsResultVisible="{Binding IsResultLabelVisible}"
                                                          FromSymbol="{Binding Unit.SelectedFromUnit, Converter={StaticResource currencySignConverter}}"
                                                          UnitValue="{Binding Unit.UnitValue, Mode=TwoWay}"
                                                          ToSymbol="{Binding Unit.SelectedToUnit, Converter={StaticResource currencySignConverter}}"
                                                          ConversionResult="{Binding Unit.ConversionResult}" />
                            
                            <controls:ConverterEntryView UnitName="{Binding Unit.UnitName}"
                                                    UnitNames="{Binding CurrencyBaseNames}"
                                                    SelectedFromUnit="{Binding Unit.SelectedFromUnit, Mode=TwoWay}"
                                                    SelectedToUnit="{Binding Unit.SelectedToUnit, Mode=TwoWay}"
                                                    UnitValue="{Binding Unit.UnitValue, Mode=TwoWay}" />
                                                    
                        </VerticalStackLayout>
                    </ScrollView>
                </controls:ExpanderView.ExpanderContent>    
                                
            </controls:ExpanderView>
            <!-- Expander 2 -->
            <controls:ExpanderView HeaderText="Length (Distance)"
                                   HeaderIcon="&#xf547;"
                                   HeaderBackgroundColor="LightBlue">

                   <controls:ExpanderView.ExpanderContent>
                    <VerticalStackLayout>
                        <Label Text="This is the content of Expander 2"
                               VerticalOptions="Start"
                               HorizontalOptions="Center" />                     
                    </VerticalStackLayout>
                    
                    </controls:ExpanderView.ExpanderContent>                
            </controls:ExpanderView>
        </VerticalStackLayout>

</ContentPage>
